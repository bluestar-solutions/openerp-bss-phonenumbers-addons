-
  In order to test the Bluestar Partner Phonenumbers module in OpenERP,
-
  I create a new partner "Albert Einstein", with an unformated US phone number.
-
  !record {model: res.partner, id: partner_albert_einstein}:
    name: 'Albert Einstein'
    phone: '9545551234,US'
-
  I check the stored phone is correctly formatted for en_US (default).
-
  !assert {model: res.partner, id: partner_albert_einstein}:
    - phone == '+1 954-555-1234'
-
  I install fr_CH language to test swiss formatting.
-
  !python {model: res.lang}: |
    self.load_lang(cr, uid, 'fr_CH')
-
  I switch the admin user to fr_CH to test swiss formatting.
-
  !python {model: res.users}: |
    self.write(cr, uid, [uid], {'lang': 'fr_CH'})
-
  I create a new address "Guillaume Tell", with an unformated CH phone number.
-
  !record {model: res.partner, id: partner_wilhelm_tell}:
    name: 'Guillaume Tell'
    phone: '0411234567,CH'
-
  I check the stored phone is correctly formatted for fr_CH.
-
  !assert {model: res.partner, id: partner_wilhelm_tell}:
    - phone == '+41 41 123 45 67'